import{_ as t,c as r,o,aj as a,ak as d,al as n}from"./chunks/framework.BHUjUVJ5.js";const f=JSON.parse('{"title":"DenoVM Architecture","description":"Architecture and system components of the DenoVM library","frontmatter":{"title":"DenoVM Architecture","description":"Architecture and system components of the DenoVM library"},"headers":[],"relativePath":"denovm/architecture.md","filePath":"denovm/architecture.md"}'),i={name:"denovm/architecture.md"};function c(s,e,l,h,u,p){return o(),r("div",null,[...e[0]||(e[0]=[a('<h1 id="architecture" tabindex="-1">Architecture <a class="header-anchor" href="#architecture" aria-label="Permalink to “Architecture”">​</a></h1><h2 id="execution-flow" tabindex="-1">Execution Flow <a class="header-anchor" href="#execution-flow" aria-label="Permalink to “Execution Flow”">​</a></h2><p><img src="'+d+'" alt="DenoVM Execution Flow"></p><h2 id="detailed-flow" tabindex="-1">Detailed Flow <a class="header-anchor" href="#detailed-flow" aria-label="Permalink to “Detailed Flow”">​</a></h2><p><img src="'+n+'" alt="DenoVM Complete Execution Flow"></p><h2 id="system-components" tabindex="-1">System Components <a class="header-anchor" href="#system-components" aria-label="Permalink to “System Components”">​</a></h2><table tabindex="0"><thead><tr><th>Component</th><th>Purpose</th></tr></thead><tbody><tr><td><code>DenoVMService</code></td><td>Main entry point - accepts requests and returns results</td></tr><tr><td><code>ExecutionStrategyFactory</code></td><td>Selects single-run or pool mode based on configuration</td></tr><tr><td><code>SingleExecutionStrategy</code></td><td>Creates new Deno process per request</td></tr><tr><td><code>PoolExecutionStrategy</code></td><td>Uses persistent worker pool for requests</td></tr><tr><td><code>DenoWorkerPool</code></td><td>Manages pool of Deno workers</td></tr><tr><td><code>DenoWorker</code></td><td>Individual persistent Deno process</td></tr></tbody></table><h2 id="worker-lifecycle" tabindex="-1">Worker Lifecycle <a class="header-anchor" href="#worker-lifecycle" aria-label="Permalink to “Worker Lifecycle”">​</a></h2><p>Workers transition: <strong>Creating</strong> → <strong>Idle</strong> → <strong>Busy</strong> → <strong>Recycling/Failed</strong> → <strong>Terminated</strong></p><p>Auto-recycle after <code>pool-max-tasks-per-worker</code> tasks or when idle for <code>pool-idle-kill-seconds</code>.</p><h2 id="error-handling" tabindex="-1">Error Handling <a class="header-anchor" href="#error-handling" aria-label="Permalink to “Error Handling”">​</a></h2><table tabindex="0"><thead><tr><th>Error Type</th><th>Behavior</th><th>Solution</th></tr></thead><tbody><tr><td>Script error</td><td><code>DenoVMResult.success=false</code></td><td>Check error message, validate script</td></tr><tr><td>Timeout</td><td><code>DenoVMResult.error=&quot;VM execution timeout&quot;</code></td><td>Increase <code>timeout-seconds</code></td></tr><tr><td>Worker failure</td><td><code>DenoWorkerException</code> thrown</td><td>Worker auto-replaced; retry</td></tr><tr><td>Pool failure</td><td><code>DenoWorkerPoolException</code> thrown</td><td>Check Deno installation</td></tr></tbody></table><h2 id="security" tabindex="-1">Security <a class="header-anchor" href="#security" aria-label="Permalink to “Security”">​</a></h2><ul><li>Isolated Deno processes per worker</li><li>Automatic temp file cleanup</li><li>Network/file permissions via Deno flags</li><li>No JVM memory access from JavaScript</li></ul>',14)])])}const k=t(i,[["render",c]]);export{f as __pageData,k as default};
