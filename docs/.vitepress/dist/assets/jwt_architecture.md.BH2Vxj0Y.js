import{_ as t,c as n,o as a,aj as i,ao as o}from"./chunks/framework.BHUjUVJ5.js";const p=JSON.parse('{"title":"JWT Architecture","description":"Architecture and system components of the JWT library","frontmatter":{"title":"JWT Architecture","description":"Architecture and system components of the JWT library"},"headers":[],"relativePath":"jwt/architecture.md","filePath":"jwt/architecture.md"}'),r={name:"jwt/architecture.md"};function d(s,e,c,l,h,u){return a(),n("div",null,[...e[0]||(e[0]=[i('<h1 id="architecture" tabindex="-1">Architecture <a class="header-anchor" href="#architecture" aria-label="Permalink to “Architecture”">​</a></h1><h2 id="jwt-token-flow" tabindex="-1">JWT Token Flow <a class="header-anchor" href="#jwt-token-flow" aria-label="Permalink to “JWT Token Flow”">​</a></h2><p>The following diagram shows the sequence of JWT token generation and validation:</p><p><img src="'+o+'" alt="JWT Token Generation and Validation Sequence"></p><h2 id="system-components" tabindex="-1">System Components <a class="header-anchor" href="#system-components" aria-label="Permalink to “System Components”">​</a></h2><table tabindex="0"><thead><tr><th>Component</th><th>Purpose</th></tr></thead><tbody><tr><td><code>JwtExecutor</code></td><td>Main service interface - provides token generation and validation methods</td></tr><tr><td><code>JwtExecutorImpl</code></td><td>Implementation of JWT executor - handles token creation and verification</td></tr><tr><td><code>JwtProperties</code></td><td>Configuration properties - stores issuer, audience, signing keys, and expiration settings</td></tr><tr><td><code>JwtModuleConfiguration</code></td><td>Auto-configuration class - sets up all components when library is on classpath</td></tr><tr><td><code>JwtTokenRequest</code></td><td>DTO for token generation requests - contains subject, claims, issuer, audience, etc.</td></tr><tr><td><code>JwtTokenResponse</code></td><td>DTO for token generation responses - contains generated token and metadata</td></tr><tr><td><code>JwtValidationRequest</code></td><td>DTO for token validation requests - contains token and optional overrides</td></tr><tr><td><code>JwtValidationResponse</code></td><td>DTO for token validation responses - contains validation result and claims</td></tr><tr><td><code>TokenType</code></td><td>Enum for token types - ACCESS or REFRESH</td></tr><tr><td><code>JwtTokenGenerationException</code></td><td>Exception thrown when token generation fails</td></tr><tr><td><code>JwtSigningKeyException</code></td><td>Exception thrown when signing key operations fail</td></tr></tbody></table><h2 id="token-generation" tabindex="-1">Token Generation <a class="header-anchor" href="#token-generation" aria-label="Permalink to “Token Generation”">​</a></h2><ol><li>Extract or use default values (issuer, audience, signing key ID, expiration)</li><li>Generate HMAC-SHA256 signing key from key ID</li><li>Build JWT with header, payload (claims), and signature</li><li>Sign with HMAC-SHA256</li><li>Return token with metadata</li></ol><h2 id="token-validation" tabindex="-1">Token Validation <a class="header-anchor" href="#token-validation" aria-label="Permalink to “Token Validation”">​</a></h2><ol><li>Extract or use default values (issuer, audience, signing key ID)</li><li>Generate the same HMAC-SHA256 signing key from key ID</li><li>Verify signature and validate claims (issuer, audience, expiration)</li><li>Return validation result with extracted claims</li></ol><h2 id="signing-key-generation" tabindex="-1">Signing Key Generation <a class="header-anchor" href="#signing-key-generation" aria-label="Permalink to “Signing Key Generation”">​</a></h2><p>Signing keys are generated deterministically from key IDs:</p><ol><li>Key source: <code>&quot;jwt-signing-key-{keyId}-fynxt-token-system&quot;</code></li><li>SHA-256 hash</li><li>Base64 encode</li><li>Use as HMAC-SHA256 secret key</li></ol><p>The same key ID always produces the same signing key, enabling token validation across service instances.</p>',14)])])}const m=t(r,[["render",d]]);export{p as __pageData,m as default};
